(()=>{var t,e;window.shiptastic=window.shiptastic||{},window.shiptastic.admin=window.shiptastic.admin||{},t=jQuery,(e=window.shiptastic).admin.shipment_settings={params:{},init:function(){var n=e.admin.shipment_settings;n.params=wc_shiptastic_admin_settings_params,t(document).on("click","a.woocommerce-stc-shipment-input-toggle-trigger",n.onInputToggleClick).on("change shiptastic_show_or_hide_fields","table.form-table :input[id]",n.onChangeInput).on("click",".wc_input_table a.add",n.onAddInputRow),t("table.form-table :input[id]").trigger("shiptastic_show_or_hide_fields")},onAddInputRow:function(){e.admin.shipment_settings;var n=t(this).parents(".wc_input_table"),i=n.find("tbody tr.item:visible").length,a=n.find("tr.template").clone();return a.find(":input").each((function(){t(this).attr("name",t(this).attr("name").replace("size",i))})),a.appendTo(n.find("tbody")).removeClass("template").show(),t(document.body).trigger("wc-enhanced-select-init"),!1},getCleanInputId:function(t){var n=e.admin.shipment_settings,i=t.attr("id")?t.attr("id"):t.attr("name");if(n.params.hasOwnProperty("clean_input_callback")){var a=n.params.clean_input_callback,s=[],o="",d="";"shiptastic.admin."===a.substring(0,17)?(s=(a=a.slice(17)).split("."),o=e.admin[s[0]],d=s[1]):(s=a.split("."),o=window[s[0]],d=s[1]),"object"==typeof o&&o.hasOwnProperty(d)&&(i=o[d](t))}return i||""},getInputByIdOrName:function(n,i){var a=e.admin.shipment_settings;return i=a.getCleanDataId(i),n.find(":input").filter((function(){var e=a.getCleanInputId(t(this));return!!e&&a.getCleanDataId(e)===i}))},getCleanDataId:function(t){return t.toLowerCase().replace(/-/g,"")},onChangeInput:function(){var n,i,a,s,o,d,r,c,p,l=e.admin.shipment_settings,h=t(this),m=t(this).parents("form"),g=l.getCleanInputId(h),u=m.find(":input[data-show_if_"+t.escapeSelector(g)+"]");t.each(u,(function(){for(var e in n=t(this),i=n.parents("tr"),a=n.data(),s=!0,a)if(a.hasOwnProperty(e)&&"show_if_"===e.substring(0,8)&&(o=e.replace("show_if_",""),d=l.getInputByIdOrName(m,o),r=n.data(e)?n.data(e).split(","):[],d.length>0&&(c=d.val(),p=!1,d.is(":radio")?"no"!==(c=d.parents("fieldset").find(":checked").length>0?d.parents("fieldset").find(":checked").val():"no")&&(p=!0):d.is(":checkbox")?"yes"==(c=d.is(":checked")?"yes":"no")&&(p=!0):p=void 0!==c&&"0"!==c&&""!==c,r&&r.length>0?-1===t.inArray(c,r)&&(s=!1):p||(s=!1)),!s))break;s?0===i.length?(n.parents("fieldset").show(),n.parents("fieldset").prev("label").show()):i.show():0===i.length?(n.parents("fieldset").hide(),n.parents("fieldset").prev("label").hide()):i.hide()}))},onInputToggleClick:function(){var e=t(this).find("span.woocommerce-stc-input-toggle"),n=e.parents("fieldset").find("input[type=checkbox]"),i=e.hasClass("woocommerce-input-toggle--enabled");return e.removeClass("woocommerce-input-toggle--enabled"),e.removeClass("woocommerce-input-toggle--disabled"),i?(n.prop("checked",!1),e.addClass("woocommerce-input-toggle--disabled")):(n.prop("checked",!0),e.addClass("woocommerce-input-toggle--enabled")),n.trigger("change"),!1}},t(document).ready((function(){e.admin.shipment_settings.init()})),((window.wcShiptastic=window.wcShiptastic||{}).static=window.wcShiptastic.static||{})["admin-settings"]={}})();